
var __cov_VL1xqU9c_0zZIHcw7r6qyA = (Function('return this'))();
if (!__cov_VL1xqU9c_0zZIHcw7r6qyA.__coverage__) { __cov_VL1xqU9c_0zZIHcw7r6qyA.__coverage__ = {}; }
__cov_VL1xqU9c_0zZIHcw7r6qyA = __cov_VL1xqU9c_0zZIHcw7r6qyA.__coverage__;
if (!(__cov_VL1xqU9c_0zZIHcw7r6qyA['/Users/RubaXa/Dropbox/git/Pilot/src/loader.js'])) {
   __cov_VL1xqU9c_0zZIHcw7r6qyA['/Users/RubaXa/Dropbox/git/Pilot/src/loader.js'] = {"path":"/Users/RubaXa/Dropbox/git/Pilot/src/loader.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":11},"end":{"line":1,"column":23}}},"2":{"name":"(anonymous_2)","line":5,"loc":{"start":{"line":5,"column":13},"end":{"line":5,"column":36}}},"3":{"name":"(anonymous_3)","line":15,"loc":{"start":{"line":15,"column":16},"end":{"line":15,"column":35}}},"4":{"name":"(anonymous_4)","line":38,"loc":{"start":{"line":38,"column":14},"end":{"line":38,"column":32}}},"5":{"name":"(anonymous_5)","line":42,"loc":{"start":{"line":42,"column":22},"end":{"line":42,"column":38}}},"6":{"name":"(anonymous_6)","line":52,"loc":{"start":{"line":52,"column":12},"end":{"line":52,"column":24}}},"7":{"name":"(anonymous_7)","line":55,"loc":{"start":{"line":55,"column":23},"end":{"line":55,"column":39}}},"8":{"name":"(anonymous_8)","line":63,"loc":{"start":{"line":63,"column":9},"end":{"line":63,"column":24}}},"9":{"name":"(anonymous_9)","line":70,"loc":{"start":{"line":70,"column":14},"end":{"line":70,"column":30}}},"10":{"name":"(anonymous_10)","line":75,"loc":{"start":{"line":75,"column":24},"end":{"line":75,"column":43}}},"11":{"name":"(anonymous_11)","line":94,"loc":{"start":{"line":94,"column":37},"end":{"line":94,"column":56}}},"12":{"name":"(anonymous_12)","line":95,"loc":{"start":{"line":95,"column":19},"end":{"line":95,"column":35}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":107,"column":3}},"2":{"start":{"line":5,"column":1},"end":{"line":29,"column":3}},"3":{"start":{"line":6,"column":2},"end":{"line":8,"column":3}},"4":{"start":{"line":7,"column":3},"end":{"line":7,"column":28}},"5":{"start":{"line":10,"column":2},"end":{"line":10,"column":20}},"6":{"start":{"line":11,"column":2},"end":{"line":11,"column":36}},"7":{"start":{"line":13,"column":2},"end":{"line":13,"column":32}},"8":{"start":{"line":15,"column":2},"end":{"line":26,"column":4}},"9":{"start":{"line":16,"column":3},"end":{"line":17,"column":20}},"10":{"start":{"line":19,"column":3},"end":{"line":21,"column":4}},"11":{"start":{"line":20,"column":4},"end":{"line":20,"column":36}},"12":{"start":{"line":23,"column":3},"end":{"line":23,"column":27}},"13":{"start":{"line":25,"column":3},"end":{"line":25,"column":16}},"14":{"start":{"line":28,"column":2},"end":{"line":28,"column":15}},"15":{"start":{"line":38,"column":1},"end":{"line":45,"column":3}},"16":{"start":{"line":39,"column":2},"end":{"line":39,"column":19}},"17":{"start":{"line":40,"column":2},"end":{"line":40,"column":36}},"18":{"start":{"line":42,"column":2},"end":{"line":44,"column":11}},"19":{"start":{"line":43,"column":3},"end":{"line":43,"column":49}},"20":{"start":{"line":48,"column":1},"end":{"line":102,"column":3}},"21":{"start":{"line":53,"column":3},"end":{"line":53,"column":21}},"22":{"start":{"line":55,"column":3},"end":{"line":57,"column":12}},"23":{"start":{"line":56,"column":4},"end":{"line":56,"column":48}},"24":{"start":{"line":59,"column":3},"end":{"line":59,"column":19}},"25":{"start":{"line":64,"column":3},"end":{"line":89,"column":6}},"26":{"start":{"line":71,"column":5},"end":{"line":72,"column":26}},"27":{"start":{"line":74,"column":5},"end":{"line":86,"column":6}},"28":{"start":{"line":75,"column":6},"end":{"line":82,"column":9}},"29":{"start":{"line":76,"column":7},"end":{"line":81,"column":8}},"30":{"start":{"line":77,"column":8},"end":{"line":77,"column":48}},"31":{"start":{"line":80,"column":8},"end":{"line":80,"column":31}},"32":{"start":{"line":84,"column":6},"end":{"line":84,"column":35}},"33":{"start":{"line":85,"column":6},"end":{"line":85,"column":25}},"34":{"start":{"line":88,"column":5},"end":{"line":88,"column":26}},"35":{"start":{"line":92,"column":3},"end":{"line":92,"column":27}},"36":{"start":{"line":94,"column":3},"end":{"line":100,"column":6}},"37":{"start":{"line":95,"column":4},"end":{"line":97,"column":7}},"38":{"start":{"line":96,"column":5},"end":{"line":96,"column":42}},"39":{"start":{"line":99,"column":4},"end":{"line":99,"column":18}},"40":{"start":{"line":106,"column":1},"end":{"line":106,"column":15}}},"branchMap":{"1":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":2},"end":{"line":6,"column":2}},{"start":{"line":6,"column":2},"end":{"line":6,"column":2}}]},"2":{"line":11,"type":"binary-expr","locations":[{"start":{"line":11,"column":16},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":35}}]},"3":{"line":74,"type":"if","locations":[{"start":{"line":74,"column":5},"end":{"line":74,"column":5}},{"start":{"line":74,"column":5},"end":{"line":74,"column":5}}]},"4":{"line":76,"type":"if","locations":[{"start":{"line":76,"column":7},"end":{"line":76,"column":7}},{"start":{"line":76,"column":7},"end":{"line":76,"column":7}}]},"5":{"line":76,"type":"binary-expr","locations":[{"start":{"line":76,"column":11},"end":{"line":76,"column":21}},{"start":{"line":76,"column":26},"end":{"line":76,"column":45}},{"start":{"line":76,"column":49},"end":{"line":76,"column":86}}]}}};
}
__cov_VL1xqU9c_0zZIHcw7r6qyA = __cov_VL1xqU9c_0zZIHcw7r6qyA['/Users/RubaXa/Dropbox/git/Pilot/src/loader.js'];
__cov_VL1xqU9c_0zZIHcw7r6qyA.s['1']++;define([],function(){'use strict';__cov_VL1xqU9c_0zZIHcw7r6qyA.f['1']++;__cov_VL1xqU9c_0zZIHcw7r6qyA.s['2']++;var _cast=function(name,model){__cov_VL1xqU9c_0zZIHcw7r6qyA.f['2']++;__cov_VL1xqU9c_0zZIHcw7r6qyA.s['3']++;if(typeof model==='function'){__cov_VL1xqU9c_0zZIHcw7r6qyA.b['1'][0]++;__cov_VL1xqU9c_0zZIHcw7r6qyA.s['4']++;model={fetch:model};}else{__cov_VL1xqU9c_0zZIHcw7r6qyA.b['1'][1]++;}__cov_VL1xqU9c_0zZIHcw7r6qyA.s['5']++;model.name=name;__cov_VL1xqU9c_0zZIHcw7r6qyA.s['6']++;model.match=(__cov_VL1xqU9c_0zZIHcw7r6qyA.b['2'][0]++,model.match)||(__cov_VL1xqU9c_0zZIHcw7r6qyA.b['2'][1]++,true);__cov_VL1xqU9c_0zZIHcw7r6qyA.s['7']++;var keys=Object.keys(model);__cov_VL1xqU9c_0zZIHcw7r6qyA.s['8']++;model.clone=function(waitFor){__cov_VL1xqU9c_0zZIHcw7r6qyA.f['3']++;__cov_VL1xqU9c_0zZIHcw7r6qyA.s['9']++;var clone={},i=keys.length;__cov_VL1xqU9c_0zZIHcw7r6qyA.s['10']++;while(i--){__cov_VL1xqU9c_0zZIHcw7r6qyA.s['11']++;clone[keys[i]]=model[keys[i]];}__cov_VL1xqU9c_0zZIHcw7r6qyA.s['12']++;clone.waitFor=waitFor;__cov_VL1xqU9c_0zZIHcw7r6qyA.s['13']++;return clone;};__cov_VL1xqU9c_0zZIHcw7r6qyA.s['14']++;return model;};__cov_VL1xqU9c_0zZIHcw7r6qyA.s['15']++;var Loader=function(models){__cov_VL1xqU9c_0zZIHcw7r6qyA.f['4']++;__cov_VL1xqU9c_0zZIHcw7r6qyA.s['16']++;this._index={};__cov_VL1xqU9c_0zZIHcw7r6qyA.s['17']++;this._names=Object.keys(models);__cov_VL1xqU9c_0zZIHcw7r6qyA.s['18']++;this._names.forEach(function(name){__cov_VL1xqU9c_0zZIHcw7r6qyA.f['5']++;__cov_VL1xqU9c_0zZIHcw7r6qyA.s['19']++;this._index[name]=_cast(name,models[name]);},this);};__cov_VL1xqU9c_0zZIHcw7r6qyA.s['20']++;Loader.prototype={consturctor:Loader,defaults:function(){__cov_VL1xqU9c_0zZIHcw7r6qyA.f['6']++;__cov_VL1xqU9c_0zZIHcw7r6qyA.s['21']++;var defaults={};__cov_VL1xqU9c_0zZIHcw7r6qyA.s['22']++;this._names.forEach(function(name){__cov_VL1xqU9c_0zZIHcw7r6qyA.f['7']++;__cov_VL1xqU9c_0zZIHcw7r6qyA.s['23']++;defaults[name]=this._index[name].defaults;},this);__cov_VL1xqU9c_0zZIHcw7r6qyA.s['24']++;return defaults;},fetch:function(req){__cov_VL1xqU9c_0zZIHcw7r6qyA.f['8']++;__cov_VL1xqU9c_0zZIHcw7r6qyA.s['25']++;var _names=this._names,_index=this._index,models={},promises=[],waitFor=function(name){__cov_VL1xqU9c_0zZIHcw7r6qyA.f['9']++;__cov_VL1xqU9c_0zZIHcw7r6qyA.s['26']++;var idx=models[name],spec=_index[name];__cov_VL1xqU9c_0zZIHcw7r6qyA.s['27']++;if(idx===void 0){__cov_VL1xqU9c_0zZIHcw7r6qyA.b['3'][0]++;__cov_VL1xqU9c_0zZIHcw7r6qyA.s['28']++;idx=new Promise(function(resolve){__cov_VL1xqU9c_0zZIHcw7r6qyA.f['10']++;__cov_VL1xqU9c_0zZIHcw7r6qyA.s['29']++;if((__cov_VL1xqU9c_0zZIHcw7r6qyA.b['5'][0]++,spec.match)&&((__cov_VL1xqU9c_0zZIHcw7r6qyA.b['5'][1]++,spec.match===true)||(__cov_VL1xqU9c_0zZIHcw7r6qyA.b['5'][2]++,spec.match.indexOf(req.route.id)>-1))){__cov_VL1xqU9c_0zZIHcw7r6qyA.b['4'][0]++;__cov_VL1xqU9c_0zZIHcw7r6qyA.s['30']++;resolve(spec.clone(waitFor).fetch(req));}else{__cov_VL1xqU9c_0zZIHcw7r6qyA.b['4'][1]++;__cov_VL1xqU9c_0zZIHcw7r6qyA.s['31']++;resolve(spec.defaults);}});__cov_VL1xqU9c_0zZIHcw7r6qyA.s['32']++;idx=promises.push(idx)-1;__cov_VL1xqU9c_0zZIHcw7r6qyA.s['33']++;models[name]=idx;}else{__cov_VL1xqU9c_0zZIHcw7r6qyA.b['3'][1]++;}__cov_VL1xqU9c_0zZIHcw7r6qyA.s['34']++;return promises[idx];};__cov_VL1xqU9c_0zZIHcw7r6qyA.s['35']++;_names.forEach(waitFor);__cov_VL1xqU9c_0zZIHcw7r6qyA.s['36']++;return Promise.all(promises).then(function(results){__cov_VL1xqU9c_0zZIHcw7r6qyA.f['11']++;__cov_VL1xqU9c_0zZIHcw7r6qyA.s['37']++;_names.forEach(function(name){__cov_VL1xqU9c_0zZIHcw7r6qyA.f['12']++;__cov_VL1xqU9c_0zZIHcw7r6qyA.s['38']++;models[name]=results[models[name]];});__cov_VL1xqU9c_0zZIHcw7r6qyA.s['39']++;return models;});}};__cov_VL1xqU9c_0zZIHcw7r6qyA.s['40']++;return Loader;});
